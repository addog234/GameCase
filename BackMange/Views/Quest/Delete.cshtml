@model BackMange.DTO.TTaskDTO

@{
    ViewData["Title"] = "Delete";
}

<h1>Delete</h1>

<h3>Are you sure you want to delete this?</h3>
<div>
    <h4>TTaskDTO</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.FtaskId)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.FtaskId)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.FposterId)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.FposterId)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.FcategoryId)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.FcategoryId)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Ftitle)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Ftitle)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Fdescription)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Fdescription)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Fbudget)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Fbudget)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Flocation)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Flocation)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.FlocationDetail)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.FlocationDetail)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Fmember)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Fmember)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Fphone)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Fphone)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Femail)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Femail)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Fstatus)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Fstatus)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Fdeadline)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Fdeadline)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.FcreatedAt)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.FcreatedAt)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.FupdatedAt)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.FupdatedAt)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.FtimageFiles)
        </dt>
        <dd class="col-sm-10">
            <label for="FtimageFiles">現有任務照片</label>
            @if (!string.IsNullOrEmpty(Model.FtimagePath))
            {
                var imagePaths = Model.FtimagePath.Split(';'); // 根據分號拆分多個路徑
                foreach (var imagePath in imagePaths)
                {
                    <div class="mb-2">
                        <img src="@imagePath" alt="任務圖片" style="max-width: 200px; height: auto;" />
                    </div>
                }
            }
            else
            {
                <p>尚未上傳圖片</p>
            }
        </dd>

    </dl>
    <form asp-action="Delete" onsubmit="return confirmDelete(event);">
        <input type="submit" value="刪除" class="btn btn-danger" />
        <a asp-action="List" class="btn btn-secondary">回到案件列表</a>
    </form>

    <script>
        function confirmDelete(event) {
            if (!confirm("確定要刪除這個任務嗎？")) {
                event.preventDefault(); // 阻止表單提交
                return false;
            }
            return true; // 繼續提交表單
        }
    </script>

</div>
